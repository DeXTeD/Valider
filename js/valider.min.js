/*!
 * Valider - HTML5 Form Validation
 * @author Kacper Kozak
 * @version 1.1.1
 * @license MIT
 */
!function(t){"use strict";var a=function(a,e){var n=this;return this.config=t.extend({onErrors:function(t){},onInputError:function(t,a){},onInputPass:function(t){},lang:t("html").attr("lang")||"pl"},e||{}),this.incorrectInputs={},this.form=a,this.inputs=a.find(":input:not(:button, :image, :reset, :submit, :disabled)"),this.inputs.each(function(){var a=t(this);a.data("valider",{triggerError:function(t){n.callInputError(t,a)}})}),a.on("submit.valider",function(t){n.validate(n.inputs,t)}).attr("novalidate","novalidate"),this.inputs.on("change.valider, blur.valider",function(){var a=t(this);setTimeout(function(){n.validateInput(a)},350)}),this.inputs.on("validate.valider",function(){var a=t(this);n.validateInput(a)}),this};a.prototype={regex:{number:/^-?[0-9]*(\.[0-9]+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i},errors:{en:{"*":"Incorrect value","[required]":"Field :name is required","[type=email]":"Invalid email address","[type=number]":"Value must be a number","[type=url]":"Invalid URL","[max]":"The maximum value is :max","[min]":"The minimum value is :min","[data-equals]":"The value is not the same as the field :equals","[data-limit]":"The maximum length is :limit characters"},pl:{"*":"Niepoprawna wartość","[required]":"Pole jest wymagane","[type=email]":"Błędny adres e-mail","[type=number]":"Wartość musi być liczbą","[type=url]":"Niepoprawny adres WWW","[max]":"Maksymalna wartość to :max","[min]":"Minimala wartość to :min","[data-equals]":"Wartość nie jest taka sama jak pole :equals","[data-limit]":"Maksymalna długość to :limit znaków"}},filters:{"[required]":function(t,a){if(t.is(":checkbox")||t.is(":radio")){var e=t.attr("name").match(/^[^\[]+/)[0];return!!this.form.find('input[type="'+t.attr("type")+'"][name^="'+e+'"]:checked').length}return!!a},"[type=email], [data-type=email]":function(t,a){return""===a||this.regex.email.test(a)},"[type=number], [data-type=number]":function(t,a){var e=a.replace(",",".");return e!==a&&t.val(e),""===a||this.regex.number.test(e)},"[type=url], [data-type=url]":function(t,a){return""===a||this.regex.url.test(a)},"[max], [data-type=max]":function(t,a){var e=t.attr("max")||t.data("max");return""===a||parseFloat(a)<=parseFloat(e)},"[min], [data-type=min]":function(t,a){var e=t.attr("min")||t.data("min");return""===a||parseFloat(a)>=parseFloat(e)},"[pattern]":function(t,a){return""===a||new RegExp("^"+t.attr("pattern")+"$").test(a)},"[data-regex]":function(t,a){return""===a||this.regex[t.data("regex")].test(a)},"[data-equals]":function(t,a){var e=this.inputs.filter("[name="+t.data("equals")+"]");return a===e.val()},"[data-limit]":function(t,a){return""===a||t.data("limit")>=a.length}},getError:function(a,e,n){var u=n?n:e.data("message"),i={name:e.data("name")||e.attr("name"),val:e.val(),min:e.attr("min")||e.data("min"),max:e.attr("max")||e.data("max"),equals:e.data("equalsName")||e.data("equals"),limit:e.data("limit")};if(!u&&(a="[data-regex]"===a?"regex:"+e.data("regex"):a.split(",")[0],u=this.errors[this.config.lang][a],!u)){var r=e.data("type");r&&(u=this.errors[this.config.lang]["[type="+r+"]"]),u||(u=this.errors[this.config.lang]["*"])}return t.each(i,function(t,a){u=u.replace(":"+t,a)}),u},callInputError:function(t,a,e){var n=this.getError(t,a,e);return this.config.onInputError.call(a,n,a),n},callInputPass:function(t){this.config.onInputPass.call(t,t)},validateInput:function(a){var e=this,n=!0;return t.each(this.filters,function(t,u){return a.is(t)&&!u.call(e,a,a.val())?(e.bindInput(a),n=e.callInputError(t,a),!1):void 0}),n},bindInput:function(t){var a,e=this;this.unBindInput(t),t.on("keyup.valider-input change.valider-input click.valider-input",function(){clearTimeout(a),a=setTimeout(function(){var a=e.validateInput(t);a===!0?(delete e.incorrectInputs[t.attr("name")],e.unBindInput(t),e.callInputPass(t)):e.incorrectInputs[t.attr("name")]=a},20)})},unBindInput:function(t){t.off(".valider-input")},validate:function(a,e){var n=this,u=!1;a.each(function(){var a=t(this),e=a.attr("name"),i=n.validateInput(a);i!==!0?(n.incorrectInputs[e]=i,u=!0):n.incorrectInputs[e]&&(delete n.incorrectInputs[e],n.unBindInput(a),n.callInputPass(a))}),u&&(this.config.onErrors.call(null,this.incorrectInputs,a),e.preventDefault())},invalidate:function(a){var e=this,n=this.inputs;t.each(a,function(t,a){e.callInputError(!1,n.filter("[name="+t+"]"),a)})}},t.Valider={addLang:function(e){return t.extend(!0,a.prototype.errors,e),this},addRegex:function(e,n){if("object"==typeof e)t.extend(a.prototype.regex,e);else{var u={};u[e]=n,t.extend(a.prototype.regex,u)}return this},addFilter:function(e,n){if("object"==typeof e)t.extend(a.prototype.filters,e);else{var u={};u[e]=n,t.extend(a.prototype.filters,u)}return this}},t.fn.Valider=function(e){return this.each(function(){var n=t(this);n.is("form")&&n.data("valider",new a(n,e))})}}(window.jQuery);